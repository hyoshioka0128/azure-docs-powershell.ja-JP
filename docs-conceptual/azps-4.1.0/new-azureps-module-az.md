---
title: Azure PowerShell Az モジュールの概要
description: AzureRM モジュールに代わる新しい Azure PowerShell Az モジュールの概要。
ms.date: 05/20/2020
ms.devlang: powershell
ms.topic: conceptual
ms.openlocfilehash: 5bc5e1230427289ec1d61971d6cab52ce2e099ac
ms.sourcegitcommit: 308ebca475d1c37624d7a10a2c02047594f44cdf
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/22/2020
ms.locfileid: "83778099"
---
# <a name="introducing-the-new-azure-powershell-az-module"></a><span data-ttu-id="8da8e-103">新しい Azure PowerShell Az モジュールの概要</span><span class="sxs-lookup"><span data-stu-id="8da8e-103">Introducing the new Azure PowerShell Az module</span></span>

<span data-ttu-id="8da8e-104">2018 年 12 月から、Azure PowerShell Az モジュールが一般公開リリースされました。このモジュールは、Azure の操作を目的とする PowerShell モジュールです。</span><span class="sxs-lookup"><span data-stu-id="8da8e-104">Starting in December 2018, the Azure PowerShell Az module is in general release and is now the intended PowerShell module for interacting with Azure.</span></span> <span data-ttu-id="8da8e-105">Az で、コマンドの短縮、安定性の向上、およびクロスプラットフォームのサポートが実現します。</span><span class="sxs-lookup"><span data-stu-id="8da8e-105">Az offers shorter commands, improved stability, and cross-platform support.</span></span> <span data-ttu-id="8da8e-106">また、Az は AzureRM と同等の機能を持ち、簡単な移行パスも提供されます。</span><span class="sxs-lookup"><span data-stu-id="8da8e-106">Az also has feature parity with AzureRM, giving you an easy migration path.</span></span>

> [!NOTE]
> <span data-ttu-id="8da8e-107">Powershell 7.x 以降が、すべてのプラットフォームで Azure PowerShell に使用できる PowerShell の推奨バージョンです。</span><span class="sxs-lookup"><span data-stu-id="8da8e-107">PowerShell 7.x and later is the recommended version of PowerShell for use with Azure PowerShell on all platforms.</span></span>

<span data-ttu-id="8da8e-108">最新の Az モジュールを使用すると、Azure PowerShell は、Windows、macOS、Linux を含むどのプラットフォームでも PowerShell 6.2.4 以降で動作します。</span><span class="sxs-lookup"><span data-stu-id="8da8e-108">With the latest Az module, Azure PowerShell works with PowerShell 6.2.4 and later on all platforms including Windows, macOS, and Linux.</span></span> <span data-ttu-id="8da8e-109">また、Windows では PowerShell 5.1 にも対応しています。</span><span class="sxs-lookup"><span data-stu-id="8da8e-109">It is also compatible with PowerShell 5.1 on Windows.</span></span>

<span data-ttu-id="8da8e-110">Az は新しいモジュールであるため、バージョンが 1.0.0 にリセットされます。</span><span class="sxs-lookup"><span data-stu-id="8da8e-110">Az is a new module, so the version has been reset to 1.0.0.</span></span>

## <a name="why-a-new-module"></a><span data-ttu-id="8da8e-111">新しいモジュールである理由</span><span class="sxs-lookup"><span data-stu-id="8da8e-111">Why a new module?</span></span>

<span data-ttu-id="8da8e-112">主要な更新プログラムの適用には手間取る可能性があります。そのため、PowerShell から Azure を操作するために、新しいコマンドレットと一緒に新しいモジュールのセットを導入することが決定された理由をお知らせすることは重要です。</span><span class="sxs-lookup"><span data-stu-id="8da8e-112">Major updates can be inconvenient, so it's important that we let you know why the decision was made to introduce a new set of modules, with new cmdlets, for interacting with Azure from PowerShell.</span></span>

<span data-ttu-id="8da8e-113">最大かつ最も重要な変更は、.NET Standard ライブラリに基づいた [PowerShell 6.x](/powershell/scripting/overview) の導入以来、PowerShell がクロスプラット フォーム対応製品であることです。</span><span class="sxs-lookup"><span data-stu-id="8da8e-113">The biggest and most important change is that PowerShell has been a cross-platform product since the introduction of [PowerShell 6.x](/powershell/scripting/overview), based on the .NET Standard library.</span></span> <span data-ttu-id="8da8e-114">Microsoft は、すべてのプラットフォームに Azure サポートを導入することに取り組んでいます。</span><span class="sxs-lookup"><span data-stu-id="8da8e-114">We're committed to bringing Azure support to all platforms.</span></span> <span data-ttu-id="8da8e-115">つまり、.NET Standard を使用するように Azure PowerShell モジュールを更新し、PowerShell 6.2.4 以降との互換性を持つようにすることが必要でした。</span><span class="sxs-lookup"><span data-stu-id="8da8e-115">This means the Azure PowerShell modules needed to be updated to use .NET Standard and be compatible with PowerShell 6.2.4 and later.</span></span>
<span data-ttu-id="8da8e-116">既存の AzureRM モジュールを取得し、複雑な変更を導入してこのサポートを追加する代わりに、Az モジュールが作成されました。</span><span class="sxs-lookup"><span data-stu-id="8da8e-116">Rather than taking the existing AzureRM module and introduce complex changes to add this support, the Az module was created.</span></span>

<span data-ttu-id="8da8e-117">また、新しいモジュールを作成することで、エンジニアがコマンドレットとモジュールの設計と名前付けに一貫性を確保することもできます。</span><span class="sxs-lookup"><span data-stu-id="8da8e-117">Creating a new module also allowed our engineers to make the design and naming of cmdlets and modules consistent.</span></span> <span data-ttu-id="8da8e-118">すべてのモジュールの先頭は `Az.` プレフィックスになり、コマンドレットはすべて _動詞_-`Az`_名詞_ の形式を使用するようになりました。</span><span class="sxs-lookup"><span data-stu-id="8da8e-118">All modules now start with the `Az.` prefix and cmdlets all use the _Verb_-`Az`_Noun_ form.</span></span> <span data-ttu-id="8da8e-119">以前は、コマンドレット名が長いだけでなく、コマンドレット名に一貫性もありませんでした。</span><span class="sxs-lookup"><span data-stu-id="8da8e-119">Previously, cmdlet names were not only longer, there were also inconsistencies in cmdlet names.</span></span>

<span data-ttu-id="8da8e-120">モジュールの数も少なくなりました。同じサービスで動作する複数のモジュールが一緒にまとめられました。</span><span class="sxs-lookup"><span data-stu-id="8da8e-120">The number of modules was also reduced: Some modules that worked with the same services have been rolled together.</span></span> <span data-ttu-id="8da8e-121">管理プレーンとデータ プレーンのコマンドレットはすべて、サービス用の 1 つのモジュールに含まれるようになりました。</span><span class="sxs-lookup"><span data-stu-id="8da8e-121">Management plane and data plane cmdlets are now contained all within single modules for their services.</span></span> <span data-ttu-id="8da8e-122">依存関係とインポートを手動で管理している場合は、これにより操作がはるかに簡単になります。</span><span class="sxs-lookup"><span data-stu-id="8da8e-122">For those of you who manually manage dependencies and imports, this makes things much simpler.</span></span>

<span data-ttu-id="8da8e-123">チームでは、新しい Azure PowerShell モジュールの構築を必要とするこれらの重要な変更を加えることによって、Azure PowerShell コマンドレットを以前よりも多くのプラットフォーム上でかつてないほど簡単に使用できるようにすることに取り組んできました。</span><span class="sxs-lookup"><span data-stu-id="8da8e-123">By making these important changes that required building a new Azure PowerShell module, the team has committed to making it easier than ever, and on more platforms than previously possible, to use Azure with PowerShell cmdlets.</span></span>

## <a name="upgrade-to-az"></a><span data-ttu-id="8da8e-124">Az にアップグレードする</span><span class="sxs-lookup"><span data-stu-id="8da8e-124">Upgrade to Az</span></span>

<span data-ttu-id="8da8e-125">PowerShell の Azure の最新機能に対応するには、できるだけ早く Az モジュールに移行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8da8e-125">To keep up with the latest Azure features in PowerShell, you should migrate to the Az module as soon as possible.</span></span> <span data-ttu-id="8da8e-126">Az モジュールを AzureRM の代わりとしてインストールする準備ができていない場合は、Az を試してみるために使用できるいくつかのオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="8da8e-126">If you're not ready to install the Az module as a replacement for AzureRM, you have a couple of options available to experiment with Az:</span></span>

- <span data-ttu-id="8da8e-127">[Azure Cloud Shell](https://docs.microsoft.com/azure/cloud-shell/overview) で `PowerShell` 環境変数を使用します。</span><span class="sxs-lookup"><span data-stu-id="8da8e-127">Use a `PowerShell` environment with [Azure Cloud Shell](https://docs.microsoft.com/azure/cloud-shell/overview).</span></span> <span data-ttu-id="8da8e-128">Azure Cloud Shell は、Az モジュールがインストールされていて、`Enable-AzureRM` と互換性のあるエイリアスが有効になっている、ブラウザー ベースのシェル環境です。</span><span class="sxs-lookup"><span data-stu-id="8da8e-128">Azure Cloud Shell is a browser-based shell environment that comes with the Az module installed and `Enable-AzureRM` compatibility aliases enabled.</span></span>
- <span data-ttu-id="8da8e-129">AzureRM モジュールを Windows 用の PowerShell 5.1 と共にインストールしたままにし、PowerShell 6.2.4 以降の Az モジュールをインストールしてください。</span><span class="sxs-lookup"><span data-stu-id="8da8e-129">Keep the AzureRM module installed with PowerShell 5.1 for Windows, but install the Az module for PowerShell 6.2.4 or later.</span></span> <span data-ttu-id="8da8e-130">Windows 用の PowerShell 5.1 と PowerShell 6.2.4 以降では、別個のモジュール コレクションが使用されます。</span><span class="sxs-lookup"><span data-stu-id="8da8e-130">PowerShell 5.1 for Windows and PowerShell 6.2.4 and later use separate collections of modules.</span></span> <span data-ttu-id="8da8e-131">手順に従って[最新バージョンの PowerShell](/powershell/scripting/install/installing-powershell) をインストールした後、PowerShell 6.2.4 以降から [Az モジュールをインストール](install-az-ps.md)してください。</span><span class="sxs-lookup"><span data-stu-id="8da8e-131">Follow the instructions to install the [latest version of PowerShell](/powershell/scripting/install/installing-powershell) and then [install the Az module](install-az-ps.md) from PowerShell 6.2.4 or later.</span></span>

<span data-ttu-id="8da8e-132">既存の AzureRM インストールからアップグレードするには、次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="8da8e-132">To upgrade from an existing AzureRM install:</span></span>

1. [<span data-ttu-id="8da8e-133">Azure PowerShell AzureRM モジュールをアンインストールする</span><span class="sxs-lookup"><span data-stu-id="8da8e-133">Uninstall the Azure PowerShell AzureRM module</span></span>](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module)
2. [<span data-ttu-id="8da8e-134">Azure PowerShell Az モジュールをインストールする</span><span class="sxs-lookup"><span data-stu-id="8da8e-134">Install the Azure PowerShell Az module</span></span>](install-az-ps.md)
3. <span data-ttu-id="8da8e-135">__省略可能__:新しいコマンド セットについて理解を深めながら、[Enable-AzureRMAlias](/powershell/module/az.accounts/enable-azurermalias) を使用して AzureRM コマンドレットのエイリアスを互換モードで追加できるようにします。</span><span class="sxs-lookup"><span data-stu-id="8da8e-135">__OPTIONAL__: Enable compatibility mode to add aliases for AzureRM cmdlets with [Enable-AzureRMAlias](/powershell/module/az.accounts/enable-azurermalias) while you become familiar with the new command set.</span></span> <span data-ttu-id="8da8e-136">詳細については、次のセクション、または [AzureRM から Az への移行の開始](migrate-from-azurerm-to-az.md)に関するページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="8da8e-136">For more information, see the next section or the [Start migration from AzureRM to Az](migrate-from-azurerm-to-az.md).</span></span>

## <a name="migrate-existing-scripts-to-az"></a><span data-ttu-id="8da8e-137">Az に既存のスクリプトを移行する</span><span class="sxs-lookup"><span data-stu-id="8da8e-137">Migrate existing scripts to Az</span></span>

<span data-ttu-id="8da8e-138">新しいコマンドレット名は、覚えやすいように設計されています。</span><span class="sxs-lookup"><span data-stu-id="8da8e-138">The new cmdlet names have been designed to be easy to learn.</span></span> <span data-ttu-id="8da8e-139">コマンドレット名では `AzureRm` や `Azure` を使用する代わりに、`Az` を使用します。</span><span class="sxs-lookup"><span data-stu-id="8da8e-139">Instead of using `AzureRm` or `Azure` in cmdlet names, use `Az`.</span></span> <span data-ttu-id="8da8e-140">たとえば、古いコマンド `New-AzureRMVm` は `New-AzVm` になりました。</span><span class="sxs-lookup"><span data-stu-id="8da8e-140">For example, the old command `New-AzureRMVm` has become `New-AzVm`.</span></span>
<span data-ttu-id="8da8e-141">ただし、移行は単に新しいコマンドレット名に慣れることだけではありません。</span><span class="sxs-lookup"><span data-stu-id="8da8e-141">Migration is more than just becoming familiar with the new cmdlet names, though.</span></span> <span data-ttu-id="8da8e-142">モジュールやパラメーターの名前の変更や、その他の重要な変更があります。</span><span class="sxs-lookup"><span data-stu-id="8da8e-142">There are renamed modules, parameters, and other important changes.</span></span>

<span data-ttu-id="8da8e-143">AzureRM から Az への移行プロセスを支援するために、いくつかのリソースを用意しました。</span><span class="sxs-lookup"><span data-stu-id="8da8e-143">We have several resources to help you with the process of migration from AzureRM to Az:</span></span>

- [<span data-ttu-id="8da8e-144">AzureRM から Az への移行の概要</span><span class="sxs-lookup"><span data-stu-id="8da8e-144">Get started with migration from AzureRM to Az</span></span>](migrate-from-azurerm-to-az.md)
- [<span data-ttu-id="8da8e-145">AzureRM から Az 1.0.0 への重大な変更の詳細な一覧</span><span class="sxs-lookup"><span data-stu-id="8da8e-145">Full list of breaking changes from AzureRM to Az 1.0.0</span></span>](migrate-az-1.0.0.md)
- <span data-ttu-id="8da8e-146">[Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) コマンドレット</span><span class="sxs-lookup"><span data-stu-id="8da8e-146">The [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) cmdlet</span></span>

<span data-ttu-id="8da8e-147">Az モジュールには互換モードがあり、既存のスクリプトを使用しながら、新しい構文に更新することができます。</span><span class="sxs-lookup"><span data-stu-id="8da8e-147">The Az module has a compatibility mode to help you use existing scripts while you update to the new syntax.</span></span> <span data-ttu-id="8da8e-148">[Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) コマンドレットにより、エイリアスを使用して互換モードを有効にすることで、最小限の変更を加えた既存のスクリプトを使用しながら、Az への完全な移行に向けて取り組むことができます。</span><span class="sxs-lookup"><span data-stu-id="8da8e-148">The [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) cmdlet enables a compatibility mode through aliases, to allow you to use existing scripts with minimal modification while working towards a full migration to Az.</span></span> <span data-ttu-id="8da8e-149">既定では、`Enable-AzureRmAlias` によって、現在の PowerShell セッション用の互換性のあるエイリアスが有効になるだけです。</span><span class="sxs-lookup"><span data-stu-id="8da8e-149">By default, `Enable-AzureRmAlias` only enables compatibility aliases for the current PowerShell session.</span></span> <span data-ttu-id="8da8e-150">PowerShell セッション間で互換性のあるエイリアスを保持するには、`Scope` パラメーターを使用してください。</span><span class="sxs-lookup"><span data-stu-id="8da8e-150">Use its `Scope` parameter to persist compatibility aliases across PowerShell sessions.</span></span> <span data-ttu-id="8da8e-151">詳細については、[Enable-AzureRmAlias のリファレンス ドキュメント](/powershell/module/az.accounts/enable-azurermalias)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8da8e-151">For more information, see [the Enable-AzureRmAlias reference documentation](/powershell/module/az.accounts/enable-azurermalias).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8da8e-152">コマンドレット名がエイリアス化されているとしても、Az コマンドレットの新しい (または名前が変更された) パラメーターや変更された戻り値はまだ残っている可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8da8e-152">Even though the cmdlet names are aliased, there may still be new (or renamed) parameters or changed return values for the Az cmdlets.</span></span> <span data-ttu-id="8da8e-153">エイリアスで移行を管理できるとは思わないでください。</span><span class="sxs-lookup"><span data-stu-id="8da8e-153">Don't expect enabling aliases to take care of the migration for you!</span></span> <span data-ttu-id="8da8e-154">スクリプトの更新が必要になる可能性のある変更については、[重大な変更の詳細な一覧](migrate-az-1.0.0.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8da8e-154">See the [full breaking changes list](migrate-az-1.0.0.md) to find where your scripts may require updates.</span></span>

## <a name="continued-support-for-azurerm"></a><span data-ttu-id="8da8e-155">AzureRM で継続されるサポート</span><span class="sxs-lookup"><span data-stu-id="8da8e-155">Continued support for AzureRM</span></span>

<span data-ttu-id="8da8e-156">AzureRM は、新しいコマンドレットや機能を受け入れなくなります。</span><span class="sxs-lookup"><span data-stu-id="8da8e-156">AzureRM will no longer receive new cmdlets or features.</span></span> <span data-ttu-id="8da8e-157">ただし、AzureRM モジュールは 2020 年 12 月まで引き続き正式に維持され、バグの修正プログラムも取得されます。</span><span class="sxs-lookup"><span data-stu-id="8da8e-157">However, the AzureRM module is still officially maintained and will get bug fixes through December 2020.</span></span>
