---
title: Azure PowerShell Az モジュールの概要
description: AzureRM モジュールに代わる新しい Azure PowerShell Az モジュールの概要。
ms.date: 05/10/2019
author: sptramer
ms.author: sttramer
ms.manager: carmonm
ms.devlang: powershell
ms.topic: conceptual
ms.openlocfilehash: 36bb0074694947f48d703aebc9119f90b508da57
ms.sourcegitcommit: d661f38bec34e65bf73913db59028e11fd78b131
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/05/2020
ms.locfileid: "81740084"
---
# <a name="introducing-the-new-azure-powershell-az-module"></a><span data-ttu-id="52c60-103">新しい Azure PowerShell Az モジュールの概要</span><span class="sxs-lookup"><span data-stu-id="52c60-103">Introducing the new Azure PowerShell Az module</span></span>

<span data-ttu-id="52c60-104">2018 年 12 月から、Azure PowerShell Az モジュールが一般公開リリースされました。このモジュールは、Azure の操作を目的とする PowerShell モジュールです。</span><span class="sxs-lookup"><span data-stu-id="52c60-104">Starting in December 2018, the Azure PowerShell Az module is in general release and is now the intended PowerShell module for interacting with Azure.</span></span> <span data-ttu-id="52c60-105">Az で、コマンドの短縮、安定性の向上、およびクロスプラットフォームのサポートが実現します。</span><span class="sxs-lookup"><span data-stu-id="52c60-105">Az offers shorter commands, improved stability, and cross-platform support.</span></span> <span data-ttu-id="52c60-106">また、Az は AzureRM と同等の機能を持ち、簡単な移行パスも提供されます。</span><span class="sxs-lookup"><span data-stu-id="52c60-106">Az also has feature parity with AzureRM, giving you an easy migration path.</span></span>

<span data-ttu-id="52c60-107">Az モジュールにより、Azure PowerShell は、Windows 上の PowerShell 5.1、およびサポートされているすべてのプラットフォーム (Windows、macOS、Linux など) 上の PowerShell Core 6.x 以降と互換性を持つようになりました。</span><span class="sxs-lookup"><span data-stu-id="52c60-107">With the Az module, Azure PowerShell is now compatible with PowerShell 5.1 on Windows and PowerShell Core 6.x and later on all supported platforms - including Windows, macOS, and Linux.</span></span>

<span data-ttu-id="52c60-108">Az は新しいモジュールであるため、バージョンが 1.0.0 にリセットされます。</span><span class="sxs-lookup"><span data-stu-id="52c60-108">Az is a new module, so the version has been reset to 1.0.0.</span></span>

## <a name="why-a-new-module"></a><span data-ttu-id="52c60-109">新しいモジュールである理由</span><span class="sxs-lookup"><span data-stu-id="52c60-109">Why a new module?</span></span>

<span data-ttu-id="52c60-110">主要な更新プログラムの適用には手間取る可能性があります。そのため、PowerShell から Azure を操作するために、新しいコマンドレットと一緒に新しいモジュールのセットを導入することが決定された理由をお知らせすることは重要です。</span><span class="sxs-lookup"><span data-stu-id="52c60-110">Major updates can be inconvenient, so it's important that we let you know why the decision was made to introduce a new set of modules, with new cmdlets, for interacting with Azure from PowerShell.</span></span>

<span data-ttu-id="52c60-111">最大かつ最も重要な変更は、.NET Standard ライブラリに基づいた [PowerShell Core 6.x](/powershell/scripting/overview) の導入以来、PowerShell がクロスプラット フォーム対応製品だったことです。</span><span class="sxs-lookup"><span data-stu-id="52c60-111">The biggest and most important change is that PowerShell has been a cross-platform product since the introduction of [PowerShell Core 6.x](/powershell/scripting/overview), based on the .NET Standard library.</span></span>
<span data-ttu-id="52c60-112">Microsoft は すべてのプラットフォームに Azure サポートを導入することに取り組んでいます。これは、.NET Standard の使用と PowerShell Core との互換性のためには Azure PowerShell モジュールを更新する必要があることを意味します。</span><span class="sxs-lookup"><span data-stu-id="52c60-112">We're committed to bringing Azure support to all platforms, which means that the Azure PowerShell modules needed to be updated to use .NET Standard and be compatible with PowerShell Core.</span></span> <span data-ttu-id="52c60-113">既存の AzureRM モジュールを取得し、複雑な変更を導入してこのサポートを追加する代わりに、Az モジュールが作成されました。</span><span class="sxs-lookup"><span data-stu-id="52c60-113">Rather than taking the existing AzureRM module and introduce complex changes to add this support, the Az module was created.</span></span>

<span data-ttu-id="52c60-114">新しいモジュールを作成することで、エンジニアが、コマンドレットとモジュールの設計と名前付けに一貫性を持たせることもできます。</span><span class="sxs-lookup"><span data-stu-id="52c60-114">Creating a new module also gave our engineers the opportunity to make the design and naming of cmdlets and modules consistent.</span></span> <span data-ttu-id="52c60-115">すべてのモジュールの先頭は `Az.` プレフィックスになり、コマンドレットはすべて _動詞_-`Az`_名詞_ の形式を使用するようになりました。</span><span class="sxs-lookup"><span data-stu-id="52c60-115">All modules now start with the `Az.` prefix and cmdlets all use the _Verb_-`Az`_Noun_ form.</span></span> <span data-ttu-id="52c60-116">以前は、コマンドレット名が長いだけでなく、コマンドレット名に一貫性がありませんでした。</span><span class="sxs-lookup"><span data-stu-id="52c60-116">Previously, cmdlet names were not only longer, there were inconsistencies in cmdlet names.</span></span>

<span data-ttu-id="52c60-117">モジュールの数も少なくなりました。同じサービスで動作するいくつかのモジュールは 1 つにまとめられていて、管理プレーンとデータ プレーンのコマンドレットはすべて、それらのサービス用の 1 つのモジュール内に含まれるようになりました。</span><span class="sxs-lookup"><span data-stu-id="52c60-117">The number of modules was also reduced: Some modules which worked with the same services have been rolled together, and management plane and data plane cmdlets are now contained all within single modules for their services.</span></span> <span data-ttu-id="52c60-118">依存関係とインポートを手動で管理している場合は、これにより操作がはるかに簡単になります。</span><span class="sxs-lookup"><span data-stu-id="52c60-118">For those of you who manually manage dependencies and imports, this makes things much simpler.</span></span>

<span data-ttu-id="52c60-119">チームでは、新しい Azure PowerShell モジュールの構築を必要とするこれらの重要な変更を加えることによって、Azure PowerShell コマンドレットを以前よりも多くのプラットフォーム上でかつてないほど簡単に使用できるようにすることに取り組んできました。</span><span class="sxs-lookup"><span data-stu-id="52c60-119">By making these important changes that required building a new Azure PowerShell module, the team has committed to making it easier than ever, and on more platforms than previously possible, to use Azure with PowerShell cmdlets.</span></span>

## <a name="upgrade-to-az"></a><span data-ttu-id="52c60-120">Az にアップグレードする</span><span class="sxs-lookup"><span data-stu-id="52c60-120">Upgrade to Az</span></span>

<span data-ttu-id="52c60-121">PowerShell の Azure の最新機能に対応するには、できるだけ早く Az モジュールに移行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="52c60-121">To keep up with the latest Azure features in PowerShell, you should migrate to the Az module as soon as possible.</span></span> <span data-ttu-id="52c60-122">Az モジュールを AzureRM の代わりとしてインストールする準備ができていない場合は、Az を試してみるために使用できるいくつかのオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="52c60-122">If you're not ready to install the Az module as a replacement for AzureRM, you have a couple of options available to experiment with Az:</span></span>

* <span data-ttu-id="52c60-123">[Azure Cloud Shell](https://docs.microsoft.com/azure/cloud-shell/overview) で `PowerShell` 環境変数を使用します。</span><span class="sxs-lookup"><span data-stu-id="52c60-123">Use a `PowerShell` environment with [Azure Cloud Shell](https://docs.microsoft.com/azure/cloud-shell/overview).</span></span>
  <span data-ttu-id="52c60-124">Azure Cloud Shell は、Az モジュールがインストールされていて、`Enable-AzureRM` と互換性のあるエイリアスが有効になっている、ブラウザー ベースのシェル環境です。</span><span class="sxs-lookup"><span data-stu-id="52c60-124">Azure Cloud Shell is a browser-based shell environment which comes with the Az module installed and `Enable-AzureRM` compatibility aliases enabled.</span></span>
* <span data-ttu-id="52c60-125">AzureRM は Windows 用の PowerShell 5.1 と共にインストールしたままにして、PowerShell Core 6.x 以降の Az モジュールをインストールします。</span><span class="sxs-lookup"><span data-stu-id="52c60-125">Keep the AzureRM module installed with PowerShell 5.1 for Windows, but install the Az module for PowerShell Core 6.x or later.</span></span> <span data-ttu-id="52c60-126">Windows 用の PowerShell 5.1 と PowerShell Core は別個のモジュールのコレクションを使用します。</span><span class="sxs-lookup"><span data-stu-id="52c60-126">PowerShell 5.1 for Windows and PowerShell Core use separate collections of modules.</span></span> <span data-ttu-id="52c60-127">手順に従って [PowerShell Core をインストール](/powershell/scripting/install/installing-powershell-core-on-windows)してから、PowerShell Core ターミナルから [Az モジュールをインストール](install-az-ps.md)してください。</span><span class="sxs-lookup"><span data-stu-id="52c60-127">Follow the instructions to [install PowerShell Core](/powershell/scripting/install/installing-powershell-core-on-windows) and then [install the Az module](install-az-ps.md) from a PowerShell Core terminal.</span></span>

<span data-ttu-id="52c60-128">既存の AzureRM インストールからアップグレードするには、次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="52c60-128">To upgrade from an existing AzureRM install:</span></span>

1. [<span data-ttu-id="52c60-129">Azure PowerShell AzureRM モジュールをアンインストールする</span><span class="sxs-lookup"><span data-stu-id="52c60-129">Uninstall the Azure PowerShell AzureRM module</span></span>](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module)
2. [<span data-ttu-id="52c60-130">Azure PowerShell Az モジュールをインストールする</span><span class="sxs-lookup"><span data-stu-id="52c60-130">Install the Azure PowerShell Az module</span></span>](install-az-ps.md)
3. <span data-ttu-id="52c60-131">__省略可能__:新しいコマンド セットについて理解を深めながら、[Enable-AzureRMAlias](/powershell/module/az.accounts/enable-azurermalias) を使用して AzureRM コマンドレットのエイリアスを互換モードで追加できるようにします。</span><span class="sxs-lookup"><span data-stu-id="52c60-131">__OPTIONAL__: Enable compatibility mode to add aliases for AzureRM cmdlets with [Enable-AzureRMAlias](/powershell/module/az.accounts/enable-azurermalias) while you become familiar with the new command set.</span></span> <span data-ttu-id="52c60-132">詳細については、次のセクション、または [AzureRM から Az への移行の開始](migrate-from-azurerm-to-az.md)に関するページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="52c60-132">See the next section or [Start migration from AzureRM to Az](migrate-from-azurerm-to-az.md) for more details.</span></span>

## <a name="migrate-existing-scripts-to-az"></a><span data-ttu-id="52c60-133">Az に既存のスクリプトを移行する</span><span class="sxs-lookup"><span data-stu-id="52c60-133">Migrate existing scripts to Az</span></span>

<span data-ttu-id="52c60-134">新しいコマンドレット名は、覚えやすいように設計されています。</span><span class="sxs-lookup"><span data-stu-id="52c60-134">The new cmdlet names have been designed to be easy to learn.</span></span> <span data-ttu-id="52c60-135">コマンドレット名では `AzureRm` や `Azure` を使用する代わりに、`Az` を使用します。</span><span class="sxs-lookup"><span data-stu-id="52c60-135">Instead of using `AzureRm` or `Azure` in cmdlet names, use `Az`.</span></span> <span data-ttu-id="52c60-136">たとえば、古いコマンド `New-AzureRMVm` は `New-AzVm` になりました。</span><span class="sxs-lookup"><span data-stu-id="52c60-136">For example, the old command `New-AzureRMVm` has become `New-AzVm`.</span></span>
<span data-ttu-id="52c60-137">移行は、単に新しいコマンドレット名に慣れることだけでなく、次のようなそれ以上のことがあります。モジュールやパラメーターの名前の変更や、その他の重要な変更があります。</span><span class="sxs-lookup"><span data-stu-id="52c60-137">Migration is more than just becoming familiar with the new cmdlet names, though: There are renamed modules, parameters, and other important changes.</span></span>

<span data-ttu-id="52c60-138">AzureRM から Az への移行プロセスを支援するため、多くのリソースを作成しました。</span><span class="sxs-lookup"><span data-stu-id="52c60-138">To help you with the process of migration from AzureRM to Az, we've got a number of resources:</span></span>

* [<span data-ttu-id="52c60-139">AzureRM から Az への移行の概要</span><span class="sxs-lookup"><span data-stu-id="52c60-139">Get started with migration from AzureRM to Az</span></span>](migrate-from-azurerm-to-az.md)
* [<span data-ttu-id="52c60-140">AzureRM から Az 1.0.0 への重大な変更の詳細な一覧</span><span class="sxs-lookup"><span data-stu-id="52c60-140">Full list of breaking changes from AzureRM to Az 1.0.0</span></span>](migrate-az-1.0.0.md)
* <span data-ttu-id="52c60-141">[Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) コマンドレット</span><span class="sxs-lookup"><span data-stu-id="52c60-141">The [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) cmdlet</span></span>

<span data-ttu-id="52c60-142">Az モジュールには互換モードがあり、既存のスクリプトを使用しながら、新しい構文に更新することができます。</span><span class="sxs-lookup"><span data-stu-id="52c60-142">The Az module has a compatibility mode to help you use existing scripts while you update to the new syntax.</span></span> <span data-ttu-id="52c60-143">[Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) コマンドレットにより、エイリアスを使用して互換モードを有効にすることで、最小限の変更を加えた既存のスクリプトを使用しながら、Az への完全な移行に向けて取り組むことができます。</span><span class="sxs-lookup"><span data-stu-id="52c60-143">The [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) cmdlet enables a compatibility mode through aliases, to allow you to use existing scripts with minimal modification while working towards a full migration to Az.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="52c60-144">コマンドレット名がエイリアス化されているとしても、Az コマンドレットの新しい (または名前が変更された) パラメーターや変更された戻り値はまだ残っている可能性があります。</span><span class="sxs-lookup"><span data-stu-id="52c60-144">Even though the cmdlet names are aliased, there may still be new (or renamed) parameters or changed return values for the Az cmdlets.</span></span> <span data-ttu-id="52c60-145">エイリアスで移行を管理できるとは思わないでください。</span><span class="sxs-lookup"><span data-stu-id="52c60-145">Don't expect enabling aliases to take care of the migration for you!</span></span> <span data-ttu-id="52c60-146">スクリプトの更新が必要になる可能性のある変更については、[重大な変更の詳細な一覧](migrate-az-1.0.0.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="52c60-146">See the [full breaking changes list](migrate-az-1.0.0.md) to find where your scripts may require updates.</span></span>

## <a name="continued-support-for-azurerm"></a><span data-ttu-id="52c60-147">AzureRM で継続されるサポート</span><span class="sxs-lookup"><span data-stu-id="52c60-147">Continued support for AzureRM</span></span>

<span data-ttu-id="52c60-148">AzureRM は、新しいコマンドレットや機能を受け入れなくなります。</span><span class="sxs-lookup"><span data-stu-id="52c60-148">AzureRM will no longer receive new cmdlets or features.</span></span> <span data-ttu-id="52c60-149">ただし、AzureRM モジュールは 2020 年 12 月まで引き続き正式に維持され、バグの修正プログラムも取得されます。</span><span class="sxs-lookup"><span data-stu-id="52c60-149">However, the AzureRM module is still officially maintained and will get bug fixes through December 2020.</span></span>
